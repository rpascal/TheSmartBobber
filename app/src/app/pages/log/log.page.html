<ion-header>
  <ion-toolbar>
    <ion-title>Trip Log</ion-title>
    <ion-buttons slot="primary">
      <app-manage-log></app-manage-log>
      <app-take-photo></app-take-photo>
      <app-settings></app-settings>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div [hidden]="!networkStatus">
    <mat-tab-group #tabs animationDuration="0ms" [selectedIndex]="selectedTab" mat-align-tabs="center" mat-stretch-tabs
      [backgroundColor]="'primary'">
      <mat-tab label="Saved Logs">
        <ion-card *ngFor='let log of logs'>

          <ng-container *ngIf="(log.images | async) as images">
            <app-log-slide #tabOneSlides [images]="images"></app-log-slide>
          </ng-container>

          <ion-card-header>
            <ion-card-title>{{log.title}}</ion-card-title>
            <ion-card-subtitle>{{log.description}}</ion-card-subtitle>
          </ion-card-header>

          <ion-card-content>
            <p>
              <b>Date:</b> {{log.timestamp?.toDate() | date:'MM/dd/yyyy'}}
            </p>
            <ng-container *ngIf="log.weather">
              <p><b>Location:</b> {{log.weather.name}}</p>
              <p><b>Temperature:</b> {{log.weather.main.temp}} <span class="degree"></span>F</p>
            </ng-container>
            <p>
              <b>Average Water Temperature:</b> {{log.averageTemperature | number : '1.2-2'}} <span
                class="degree"></span>F
            </p>
            <p>
              <b>Confirmed bites:</b> {{log.confirmedBites}}
            </p>

          </ion-card-content>
        </ion-card>
      </mat-tab>
      <mat-tab label="Random Images">

        <ng-container *ngIf="(uncategorizedImages | async) as images">
          <app-log-slide #tabTwoSlide [images]="images"></app-log-slide>
        </ng-container>
      </mat-tab>
    </mat-tab-group>

  </div>

  <div [hidden]="networkStatus">
    <img src="assets/not-connected.png" />
  </div>

</ion-content>